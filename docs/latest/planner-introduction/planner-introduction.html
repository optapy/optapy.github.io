<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OptaPy Introduction :: Documentation</title>
    <link rel="canonical" href="https://www.optapy.org/docs/latest/planner-introduction/planner-introduction.html">
    <meta name="generator" content="Antora 3.0.1">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/search.css">
<link rel="stylesheet" href="../../../_/css/menu.css"><!-- Adobe Analytics for Red Hat - DPAL (DTM Property Auto-Loader) - part 1/2 -->
<script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
<!-- Google Analytics for kie team: Global site tag (gtag.js) -->
<script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="https://www.optapy.org">
          <img src="../../../_/img/optaPyLogoDarkBackground200px.png" alt="OptaPy logo"/>
        </a>
        <a class="navbar-item" href="https://www.optapy.org">
          Documentation
        </a>
      </div>
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs" autofocus>
        </div>
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://www.optapy.org">Archive</a>
        <div class="navbar-item">
          <a class="navbar-item small-item" href="https://github.com/optapy/optapy" title="Follow OptaPy on GitHub"><div class="github-icon"></div></a>
          <a class="navbar-item small-item" href="https://twitter.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Twitter"><img alt="T" src="../../../_/img/twitterLogo.png"></a>
          <a class="navbar-item small-item" href="https://www.linkedin.com/showcase/optaplanner" target="_blank" title="Follow OptaPlanner on LinkedIn"><img alt="L" src="../../../_/img/linkedInLogo.png"></a>
          <a class="navbar-item small-item" href="https://www.facebook.com/OptaPlanner" target="_blank" title="Follow OptaPlanner on Facebook"><img alt="F" src="../../../_/img/facebookLogo.png"></a>
          <a class="navbar-item small-item" href="https://www.youtube.com/channel/UCcpkOKpujFlM67D2h0RdaeQ" target="_blank" title="OptaPlanner YouTube channel"><img alt="YT" src="../../../_/img/youtubeLogo.png" style="height: 16px"></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">OptaPy User Guide 8.19.0a0</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="planner-introduction.html">OptaPy Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../quickstart/quickstart.html">Quickstart</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../planner-configuration/planner-configuration.html">OptaPy configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../score-calculation/score-calculation.html">Score calculation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../constraint-streams/constraint-streams.html">Constraint streams score calculation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../shadow-variable/shadow-variable.html">Shadow variable</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../optimization-algorithms/optimization-algorithms.html">Optimization algorithms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../move-and-neighborhood-selection/move-and-neighborhood-selection.html">Move and neighborhood selection</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../exhaustive-search/exhaustive-search.html">Exhaustive search</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../construction-heuristics/construction-heuristics.html">Construction heuristics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../local-search/local-search.html">Local search</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../evolutionary-algorithms/evolutionary-algorithms.html">Evolutionary algorithms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../repeated-planning/repeated-planning.html">Repeated planning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../design-patterns/design-patterns.html">Design patterns</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OptaPy User Guide 8.19.0a0</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">OptaPy User Guide 8.19.0a0</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="planner-introduction.html" class="home-link is-current"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">OptaPy User Guide 8.19.0a0</a></li>
    <li><a href="planner-introduction.html">OptaPy Introduction</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/optapy/optapy/edit/main/optapy-docs/src/modules/ROOT/pages/planner-introduction/planner-introduction.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">OptaPy Introduction</h1>
<div class="sect1">
<h2 id="whatIsOptaPy"><a class="anchor" href="#whatIsOptaPy"></a>1. What is OptaPy</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Every organization faces planning problems: providing products or services with a limited set of <em>constrained</em> resources (employees, assets, time and money). OptaPy optimizes such planning to do more business with less resources.
This is known as <em>Constraint Satisfaction Programming</em> (which is part of the <em>Operations Research</em> discipline).</p>
</div>
<div class="paragraph">
<p><a href="https://www.optapy.org">OptaPy</a> is a wrapper of the <a href="https://www.optaplanner.org">OptaPlanner</a> constraint satisfaction engine which optimizes planning problems. It solves use cases such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Employee shift rostering</strong>: timetabling nurses, repairmen, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Agenda scheduling</strong>: scheduling meetings, appointments, maintenance jobs, advertisements, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Educational timetabling</strong>: scheduling lessons, courses, exams, conference presentations, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Vehicle routing</strong>: planning vehicle routes (trucks, trains, boats, airplanes, &#8230;&#8203;) for moving freight and/or passengers through multiple destinations using known mapping tools &#8230;&#8203;</p>
</li>
<li>
<p><strong>Bin packing</strong>: filling containers, trucks, ships, and storage warehouses with items, but also packing information across computer resources, as in cloud computing &#8230;&#8203;</p>
</li>
<li>
<p><strong>Job shop scheduling</strong>: planning car assembly lines, machine queue planning, workforce task planning, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Cutting stock</strong>: minimizing waste while cutting paper, steel, carpet, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Sport scheduling</strong>: planning games and training schedules for football leagues, baseball leagues, &#8230;&#8203;</p>
</li>
<li>
<p><strong>Financial optimization</strong>: investment portfolio optimization, risk spreading, &#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="whatIsAPlanningProblem"><a class="anchor" href="#whatIsAPlanningProblem"></a>2. What is a planning problem?</h2>
<div class="sectionbody">
<div class="imageblock text-center">
<div class="content">
<img src="../_images/planner-introduction/whatIsAPlanningProblem.png" alt="whatIsAPlanningProblem">
</div>
</div>
<div class="paragraph">
<p>A planning problem has an optimal goal, based on limited resources and under specific constraints. Optimal goals can be any number of things, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maximized profits - the optimal goal results in the highest possible profit.</p>
</li>
<li>
<p>Minimized ecological footprint - the optimal goal has the least amount of environmental impact.</p>
</li>
<li>
<p>Maximized satisfaction for employees or customers - the optimal goal prioritizes the needs of employees or customers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The ability to achieve these goals relies on the number of resources available, such as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The number of people.</p>
</li>
<li>
<p>Amount of time.</p>
</li>
<li>
<p>Budget.</p>
</li>
<li>
<p>Physical assets, for example, machinery, vehicles, computers, buildings, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Specific constraints related to these resources must also be taken into account, such as the number of hours a person works, their ability to use certain machines, or compatibility between pieces of equipment.</p>
</div>
<div class="paragraph">
<p>OptaPy helps Python<sup>TM</sup> programmers solve constraint satisfaction problems efficiently. Under the hood, it combines optimization heuristics and metaheuristics with very efficient score calculation.</p>
</div>
<div class="sect2">
<h3 id="aPlanningProblemIsNPCompleteOrNPHard"><a class="anchor" href="#aPlanningProblemIsNPCompleteOrNPHard"></a>2.1. A planning problem is NP-complete or NP-hard</h3>
<div class="paragraph">
<p>All the use cases above are <em>probably</em> <a href="https://en.wikipedia.org/wiki/NP-completeness">NP-complete/NP-hard</a>,
which means in layman&#8217;s terms:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It&#8217;s easy to verify a given solution to a problem in reasonable time.</p>
</li>
<li>
<p>There is no silver bullet to find the optimal solution of a problem in reasonable time (*).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>(*) At least, none of the smartest computer scientists in the world have found such a silver bullet yet.
But if they find one for 1 NP-complete problem, it will work for every NP-complete problem.</p>
</div>
<div class="paragraph">
<p>In fact, there&#8217;s a $ 1,000,000 reward for anyone that proves if <a href="https://en.wikipedia.org/wiki/P_%3D_NP_problem">such a silver bullet actually exists or not</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The implication of this is pretty dire: solving your problem is probably harder than you anticipated, because the two common techniques won&#8217;t suffice:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A Brute Force algorithm (even a smarter variant) will take too long.</p>
</li>
<li>
<p>A quick algorithm, for example in bin packing, <em>putting in the largest items first</em>, will return a solution that is far from optimal.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By using advanced optimization algorithms, <strong>OptaPy does find a near-optimal solution in reasonable time for such planning problems.</strong></p>
</div>
</div>
<div class="sect2">
<h3 id="aPlanningProblemHasConstraints"><a class="anchor" href="#aPlanningProblemHasConstraints"></a>2.2. A planning problem has (hard and soft) constraints</h3>
<div class="paragraph">
<p>Usually, a planning problem has at least two levels of constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>(negative) hard constraint</em> must not be broken. For example: <em>1 teacher cannot teach 2 different lessons at the same time</em>.</p>
</li>
<li>
<p>A <em>(negative) soft constraint</em> should not be broken if it can be avoided. For example: <em>Teacher A does not like to teach on Friday afternoon</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some problems have positive constraints too:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>positive soft constraint (or reward)</em> should be fulfilled if possible. For example: <em>Teacher B likes to teach on Monday morning</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some basic problems (such as N queens]) only have hard constraints.
Some problems have three or more levels of constraints, for example hard, medium and soft constraints.</p>
</div>
<div class="paragraph">
<p>These constraints define the <em>score calculation</em> (AKA <em>fitness function</em>) of a planning problem.
Each solution of a planning problem can be graded with a score. <strong>With OptaPy, score constraints are written in an Object Oriented language, such as Python<sup>TM</sup> code</strong>.
Such code is easy, flexible and scalable.</p>
</div>
</div>
<div class="sect2">
<h3 id="aPlanningProblemHasAHugeSearchSpace"><a class="anchor" href="#aPlanningProblemHasAHugeSearchSpace"></a>2.3. A planning problem has a huge search space</h3>
<div class="paragraph">
<p>A planning problem has a number of <em>solutions</em>.
There are several categories of solutions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>possible solution</em> is any solution, whether or not it breaks any number of constraints. Planning problems tend to have an incredibly large number of possible solutions. Many of those solutions are worthless.</p>
</li>
<li>
<p>A <em>feasible solution</em> is a solution that does not break any (negative) hard constraints. The number of feasible solutions tends to be relative to the number of possible solutions. Sometimes there are no feasible solutions. Every feasible solution is a possible solution.</p>
</li>
<li>
<p>An <em>optimal solution</em> is a solution with the highest score. Planning problems tend to have 1 or a few optimal solutions. There is always at least 1 optimal solution, even in the case that there are no feasible solutions and the optimal solution isn&#8217;t feasible.</p>
</li>
<li>
<p>The <em>best solution found</em> is the solution with the highest score found by an implementation in a given amount of time. The best solution found is likely to be feasible and, given enough time, it&#8217;s an optimal solution.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Counterintuitively, the number of possible solutions is huge (if calculated correctly), even with a small dataset.
As you can see in the examples, most instances have a lot more possible solutions than the minimal number of atoms in the known universe (10^80). Because there is no silver bullet to find the optimal solution, any implementation is forced to evaluate at least a subset of all those possible solutions.</p>
</div>
<div class="paragraph">
<p>OptaPy supports several optimization algorithms to efficiently wade through that incredibly large number of possible solutions.
Depending on the use case, some optimization algorithms perform better than others, but it&#8217;s impossible to tell in advance. <strong>With OptaPy, it is easy to switch the optimization algorithm</strong>, by changing the solver configuration in a few lines of code.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="requirements"><a class="anchor" href="#requirements"></a>3. Requirements</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OptaPy is <em>open source</em> software, released under <a href="http://www.apache.org/licenses/LICENSE-2.0.html">the Apache License 2.0</a>.
This license is very liberal and allows reuse for commercial purposes.
Read <a href="http://www.apache.org/foundation/licence-FAQ.html#WhatDoesItMEAN">the layman&#8217;s explanation</a>.</p>
</div>
<div class="paragraph">
<p>OptaPy is a mixture of Python and Java, and requires
<a href="https://www.python.org/">Python 3.9 or later</a> and a <a href="https://adoptium.net/">Java Development Kit (JDK) 11 or later</a> to both be installed.
OptaPy is available in the <a href="#pip">Python Package Index</a>.</p>
</div>
<div class="paragraph">
<p>OptaPy works with CPython.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="governance"><a class="anchor" href="#governance"></a>4. Governance</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="statusOfOptaPy"><a class="anchor" href="#statusOfOptaPy"></a>4.1. Status of OptaPy</h3>
<div class="paragraph">
<p>OptaPy is currently an alpha release under active development.
Breaking changes may happen between releases while in alpha.</p>
</div>
</div>
<div class="sect2">
<h3 id="releaseNotes"><a class="anchor" href="#releaseNotes"></a>4.2. Release notes</h3>
<div class="paragraph">
<p>OptaPlanner releases every month. Since OptaPy is a wrapper for OptaPlanner, it shares its release notes. <a href="https://www.optaplanner.org/download/releaseNotes/">Read the release notes of each release on our website.</a></p>
</div>
</div>
<div class="sect2">
<h3 id="backwardsCompatibility"><a class="anchor" href="#backwardsCompatibility"></a>4.3. Backwards compatibility</h3>
<div class="paragraph">
<p>OptaPy is currently an alpha release under active development.
Breaking changes may happen between releases while in alpha.</p>
</div>
</div>
<div class="sect2">
<h3 id="communityAndSupport"><a class="anchor" href="#communityAndSupport"></a>4.4. Community and support</h3>
<div class="paragraph">
<p>For news and articles, check <a href="https://www.optaplanner.org/blog/">our blog</a>,
<a href="https://twitter.com/OptaPlanner">twitter</a> (including <a href="https://twitter.com/GeoffreyDeSmet">Geoffrey&#8217;s twitter</a>)
and <a href="https://www.facebook.com/OptaPlanner">facebook</a>.<br>
<strong>If you&#8217;re happy with OptaPy, make us happy by posting a tweet or blog article about it.</strong></p>
</div>
<div class="paragraph">
<p>Public questions are welcome on <a href="https://stackoverflow.com/questions/tagged/optapy">here</a>.
Bugs and feature requests are welcome in <a href="https://github.com/optapy/optapy/issues">our issue tracker</a>.
Pull requests are very welcome on GitHub and get priority treatment! By open sourcing your improvements, you&#8217;ll benefit from our peer review and from our improvements made on top of your improvements.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pip"><a class="anchor" href="#pip"></a>5. Use OptaPy with pip</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OptaPy is available in the Python Package Index (PyPI) as the <a href="https://pypi.org/project/optapy/"><code>optapy</code> project</a>. To install, run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">pip install optapy</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="buildFromSource"><a class="anchor" href="#buildFromSource"></a>5.1. Build OptaPy from source</h3>
<div class="paragraph">
<p><strong>Prerequisites</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Set up <a href="https://git-scm.com/">Git</a>.</p>
</li>
<li>
<p>Authenticate on GitHub using either HTTPS or SSH.</p>
<div class="ulist">
<ul>
<li>
<p>See <a href="https://help.github.com/articles/set-up-git/">GitHub</a> for more information about setting up and authenticating Git.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Install the <a href="https://pypi.org/project/build/">python build module</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Build and run the examples from source.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Clone <code>optapy</code> from GitHub (or alternatively, download <a href="https://github.com/optapy/optapy/zipball/main">the zipball</a>):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-sh hljs" data-lang="sh">$ git clone https://github.com/optapy/optapy.git
...</code></pre>
</div>
</div>
</li>
<li>
<p>Build it with Python:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-sh hljs" data-lang="sh">$ cd optapy-core
$ python -m build
...</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The first time, the build might take a long time, because it needs to download jars.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
<li>
<p>Install the built package to a virtual environment</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-sh hljs" data-lang="sh">$ cp dist/optapy-*-py3-none-any.whl path/to/my/application
$ cd path/to/my/application
$ source my-application-venv/bin/activate
$ pip install optapy-*-py3-none-any.whl</code></pre>
</div>
</div>
</li>
<li>
<p>Edit the sources in your favorite IDE.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
<script src="../../../_/js/vendor/lunr.js"></script>
<script src="../../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../_/css/search.css"></script>
<script async src="../../../search-index.js"></script>

<!-- Adobe Analytics for Red Hat - DPAL (DTM Property Auto-Loader) - part 2/2 -->
<script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
</script>  </body>
</html>
